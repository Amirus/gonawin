<div ng-include src="'templates/partials/notifications.html'"></div>
<div class="page-header">
  <h1>Tournament</h1>
  <joinbutton action="joinButtonMethod()" name="joinButtonName"/>
  <button class="btn btn-primary" data-toggle="modal" data-target="#tournamentModal">Add Team</button>
  <!-- Modal -->
  <div id="tournamentModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="tournamentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
	<div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
          <h3 id="tournamentModalLabel">Add Team</h3>
	</div>
	<div class="modal-body">
          <div ng-include src="'templates/tournaments/teamCandidates.html'"></div>
	</div>
      </div>
    </div>
  </div>
</div>

<dl class="dl-horizontal">
  <dt><strong>Id:</strong></dt>
  <dd>{{tournamentData.Tournament.Id}}</dd>
  <dt><strong>Name:</strong></dt>
  <dd>{{tournamentData.Tournament.Name}}</dd>
</dl>

<div ng-if="isTournamentAdmin">
  <div>
    <form class="form-horizontal">
      <div class="form-group">
        <a href="/ng#/tournaments/edit/{{tournamentData.Tournament.Id}}" class="btn btn-default"><span>Edit</span></a>
        <input id="action" name="Action" type="hidden" value="delete" />
        <button class="btn btn-danger" name="delete" onclick="return confirm('Are you sure?');" ng-click="deleteTournament()">Delete</button>
      </div>
    </form>
  </div>
</div>
<div class="links">
  <a href="/ng#/tournaments/{{tournamentData.Tournament.Id}}/calendar">Calendar</a><br>
  <a href="/ng#/tournaments/{{tournamentData.Tournament.Id}}/calendar?groupby=phase">Calendar by phase</a><br>
  <a href="/ng#/tournaments/{{tournamentData.Tournament.Id}}/calendar?groupby=date">Calendar by date</a><br>
  <a href="/ng#/tournaments/{{tournamentData.Tournament.Id}}/matches/firststage">First Stage</a><br>
  <a href="/ng#/tournaments/{{tournamentData.Tournament.Id}}/matches/secondstage">Second Stage Horizontal</a><br>
  <a href="/ng#/tournaments/{{tournamentData.Tournament.Id}}/matches/secondstage">Second Stage Vertical</a><br>
  <a href="/ng#/tournaments/{{tournamentData.Tournament.Id}}/matches/setresults"> Admin: set results</a><br>
</div>

<!-- participants -->
<div class="participants">
  <table class="table table-striped">
    <thead><tr><th>Participants</th></tr></thead>
    <tbody>
      <tr ng-repeat="p in tournamentData.Participants">
  	<td><a href="/ng#/users/{{p.Id}}">{{p.Username}}</a></td>
      </tr>
    </tbody>
  </table>
</div>
<!-- / participants -->
<!-- Teams -->
<div class="teams">
  <table class="table table-striped">
    <thead><tr><th>Teams</th></tr></thead>
    <tbody>
      <tr ng-repeat="t in tournamentData.Teams">
        <td><a href="/ng#/teams/{{t.Id}}">{{t.Name}}</a></td>
      </tr>
    </tbody>
  </table>
</div>
<!-- / Teams -->
<!-- Groups -->
<div class="groups">
  <table class="table table-striped table-condensed">
    <thead><tr><th>Groups</th></tr></thead>
    <tbody>
      <tr ng-repeat="g in groupsData.Groups">
        <td><p>Group {{g.Name}}</p></td>
	<td>
	  <p ng-repeat="t in g.Teams">{{t.Name}}</p>
	</td>
      </tr>
    </tbody>
  </table>
</div>
<!-- / Groups -->
