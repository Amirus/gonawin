<div>
  <div class="page-header">
    <h1>Tournament</h1>
    <form accept-charset="UTF-8" class="form-horizontal" method="post">
      <input id="tournament_id" name="TournamentId" type="hidden" value="{{tournament.Tournament.Id}}" />
      <input class="btn btn-primary btn-join" ng-click="joinTournament()" name="commit" type="submit" /> <!-- {{if Joined}}value="Leave"{{else}}value="Join"{{end}} /> -->
      <a href="/tournaments/show/{{tournamentData.Tournament.Id}}#tournamentModal" class="btn btn-primary" data-toggle="modal"><span>Add Team</span></a>
    </form>
    <!-- Modal -->
    <div id="tournamentModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h3 id="myModalLabel">Add Team</h3>
      </div>
      <div class="modal-body">
        <form accept-charset="UTF-8" ng-sumbit="addTeam()" class="form-horizontal" method="post">
    	     <input id="tournament_id" name="TournamentId" type="hidden" value="{{tournamentData.Tournament.Id}}" />
	     <table class="table table-hover">
	       <tbody>
		 <tr ng-repeat="t in tournamentData.CandidateTeams">
		   <form accept-charset="UTF-8" action="/m/tournamentteamrels/create" class="form-horizontal" method="post">
		     <td><a href="/m/teams/{{t.Id}}">{{t.Name}}</a></td>
		     <td><button class="btn btn-primary btn-join pull-right" name="TeamIdButton" type="submit" value="{{t.Id}}" >Join</button></td>
		   </form>
		 </tr>
	       </tbody>
	     </table>
	     <!-- {{else}} -->
	     <!-- <div id="no_team"> -->
	     <!--   <p>No team has been created by you.</p> -->
	     <!--   <a href="/m/teams/new" class="btn btn-primary"><span>Create new team</span></a> -->
	     <!-- </div> -->
	     <!-- {{end}} -->
	     <!-- end of candidates -->
        </form>
      </div>
    </div>
  </div>
  
  <dl class="dl-horizontal">
    <dt><strong>Id:</strong></dt>
    <dd>{{tournamentData.Tournament.Id}}</dd>
    <dt><strong>Name:</strong></dt>
    <dd>{{tournamentData.Tournament.Name}}</dd>
  </dl>
  
  <!-- {{if IsTournamentAdmin}} -->
  <div class="form-actions">
    <form class="form-horizontal">
      <a href="/ng#/tournaments/edit/{{tournamentData.Tournament.Id}}" class="btn"><span>Edit</span></a>
      <input id="action" name="Action" type="hidden" value="delete" />
      <button class="btn btn-danger" name="delete" onclick="return confirm('Are you sure?');" ng-click="deleteTournament()">Delete</button>
    </form>
  </div>
  <!-- {{end}} -->
  <!-- participants -->
  <div class="participants">
    <table class="table table-striped">
      <thead>
        <tr>
  	  <th>Participants</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="p in tournamentData.Participants">
  	       <td><a href="/m/users/{{p.Id}}">{{p.Username}}</a></td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- / participants -->
  <!-- Teams -->
  <div class="teams">
    <table class="table table-striped">
      <thead>
        <tr>
          	<th>Teams</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="t in tournamentData.Teams">
          	<td><a href="/ng#/teams/{{t.Id}}">{{t.Name}}</a></td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- / Teams -->
</div>
